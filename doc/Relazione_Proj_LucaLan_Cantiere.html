<!DOCTYPE html>
<html>
<head>
  <title>Project Description</title>
  <link rel="stylesheet" href="desc_style.css">
</head>
<body bgcolor= "white">
  <h1 style="color:black">Progetto cantiere</h1>
  <h2><center>Progetto per il corso di Computer Graphics</center></h2>
  <h3><center>Realizzato da Luca Landolfi Studente di Ingegneria Informatica Magistrale</center></h3>
  <p>Il progetto "Cantiere" vuole rappresentare una citt&agrave; ancora in fase di costruzione dove vi sono tre zone ben distinte che riproducono i lavori in corso. L'idea &egrave; nata del tutto a caso dopo aver visto un documentario
  riguardante la costruzione della citt&agrave; di Dubai.</br></br>
    All'interno del progetto vi &egrave; la presenza di vari elementi:</p>
    <ul>
        <li>Un cubo rappresentante la citt&agrave; (visibile dall'interno)</li></br>
        <li>Alcuni edifici in fase di costruzione</li></br>
        <li>Alcuni palazzi</li></br>
		<li>Il palazzo della ditta di costruzioni</li></br>
        <li>Un elmetto da cantiere (oggetto animato)</li>
    </ul>
  <img src="./images/sc-1.png" alt="front" class="center" style="width:800px;height:500px">
  </br>
  <p>E' possibile interagire con la scena in vari modi:</p>
  <ul>
    <li><p>Con l'utilizzo di mouse: muovendo il mouse orizzontalmente si pu&ograve; ruotare l'elmetto, mentre in verticale &egrave; possibile farlo spostare in avanti e in dietro. Dando un effetto movimento molto fluido</p></li></br>
    <li><p>Con la tastiera, con la quale si possono effettuare molteplici azioni:</p>
          <ul>
            <li><p>La prima, pi&ugrave; semplice, &egrave; di muovere l'elmetto. Con "freccia s&ugrave;" e "freccia gi&ugrave;" si muover&agrave; in avanti e in dietro e con le frecce laterali effettuer&agrave; una rotazione. Così da poter esplorare tutta la mappa</p></li>
            <li><p>La seconda riguarda il setting di varie visuali della camera. Abbiamo 3 visuali accessibili dai tasti <b>"I"</b>, <b>"O"</b> e <b>"P"</b> (Di seguito alcuni screen delle visuali). Con il tasto <b>"spazio"</b> &egrave; inoltre possibile tornare alla visualizzaizone ravvicinata dell'elemetto.
              Inoltre con i tasti <b>"."</b> e <b>","</b> &egrave; possibile modificare il <i>"Fov"</i> (Field Of View). Aumentandolo e diminuendolo.</p></li>
            <img src="./images/sc-view1.png" alt="front" style="width:600px;height:400px">
            <img src="./images/sc-view2.png" alt="front" style="width:600px;height:400px">
            <img src="./images/sc-view3.png" alt="front" class="center" style="width:600px;height:400px">
            <img src="./images/sc-view4.png" alt="front" class="center" style="width:600px;height:400px">
              <li><p>Ultima possibile interazione &egrave; quella di poter inserire nella scena ulteriori oggetti3D utilizzando i tasti <b>"Z"</b> e <b>"X"</b>.
              Alla pressione di uno di questi tasti verr&agrave; caricato un Obj (diverso per ogni tasto) all'interno della mappa dove si trova il nostro elmetto</p></li>
            <img src="./images/sc-obj1.png" alt="front" style="width:600px;height:400px">
            <img src="./images/sc-building2.png" alt="front" style="width:600px;height:400px">
          </ul>
      </li>
    <li><p>L'utente pu&ograve; poi interagire con tutti glie elementi delle scena tramite un pannello di controllo inserito. Il pannello si apre cliccando sulla barra "menu" situata a destra del canvas.
      Cliccandovi si aprir&agrave; un men&ugrave; a tendina dalla quale sar&agrave; poi possibile modificare e selezionare tutte le opzioni</p></li>
    <img src="./images/sc-menu1.png" alt="front" style="width:600px;height:400px">
    <img src="./images/sc-menu.png" alt="front" style="width:200px;height:400px">

      <li><p>Inoltre &egrave; stata gestita anche l'interazione "touch" dell'utente in caso di dispositivi mobili. Le gesture inserite sono semplificate, infatti sar&agrave; solamente possibile muoversi nella mappa e utitlizzare il menu.
        Per muoversi nella mappa le gesture "touch" seguiranno gli comportamenti descritti prima con il mouse</p></li>

    <img src="./images/sc-mobile1.png" alt="front" style="width:350px;height:400px">
    <img src="./images/sc-mobile2.png" alt="front" style="width:200px;height:400px">
    <img src="./images/sc-mobile4.png" alt="front" style="width:200px;height:400px">
    </br>
  </ul>
  <p>Il progetto prevede quindi un esplorazione della mappa che rappresenta un cantiere in costruzione e il avanzamento, con l'inserimento di palazzi, oggetti e nuovi elementi all'interno della scena.
  Sar&agrave; quindi possibile muovere l'elmetto da cantiere in modo da poter andare
    in giro per i cantieri potendo così supervisionare i lavori, e aggiungere elementi alla scena</p></br>
  <p>La scena necessita di circa un secondo per essere renderizzata la prima volta, in quanto vengono utilizzate svariate texture di dimensioni nell'ordine dei 100KB.</p></br> </br>
  <img src="images/mondo_tiger.png" alt="front" style="width:800px;height:400px;" class="center">
  <img src="images/mondo_tiger2.png" alt="front" class="center" style="width:800px;height:400px">
  <h2><center>Caratteristiche dell'applicazione</center></h2>
  <h3>Dettagli degli elementi</h3>
  <p>Gli oggetti della scena sono stati realizzati utillizzando Blender e sono stati importati all'interno del codice tramite i file .obj e.mtl:</p></br>
  <ul>
	<li><p>Il cubo &egrave; stato texturizzato con 2 texture differenti, la prima &egrave; stata applicata alle facce laterali e a quella superiore in modo che potessero rappresentare la silhouette di una citt&agrave;, la seconda invece &egrave; stata applicata alla faccia
      inferiore per poter così ricreare l'urbanistica della citt&agrave;.</p></li></br>
    <li><p>Gli edifici in fase di costruzione a cui &egrave; stata applicata una semplice colorozaione del materiale.</p></li></br>
	<li><p>I palazzi a cui &egrave; stata applicata una colorazione pi&ugrave; l'aggiunta di una texture raffiguaranti delle finestre. In particolare su uno dei tre palazzi &egrave; presente l'insegna della ditta di muratura addobbata con 3 texture
      tra cui una mia foto.</p></li></br>
    <li><p>L'elmetto da cantiere al quale &egrave; stata applicata una texture col nome della ditta pi&ugrave; il segnale di pericolo.</p></li>
  </ul>
  <div>
			<img src="images\tiger.jpeg" height="200" >
			<img src="images\muratore.jpg" height="200" >
			<img src="images\building.jpg" height="200" >
			<img src="images\casco2-01.jpg" height="200" >
			<img src="images\l41480-road-21297.jpg" height="200" >
			<img src="images\2058984-silhouette-di-grattacielo-edifici-citta-skyline-illustrazione-vettoriale.jpg" height="200" >
			<img src="images\texture-glazed-modern-windows-grey-1013369.jpg" height="200" >
		</div>
  
  <h3>Illuminazione</h3>
  <p>L'intera scena &egrave; illuminata da una luce ambientale che rende visibili tutti gli elementi, anche quelli che non sarebbero visibili perch&egrave; esclusi dall'illuminazione della sorgente luminosa.</br>
  L'illuminazione principale pero' e' rappresentata dalla luce direzionale inserita, che pu&ograve; essere modificata dal menu tramite le varie opzioni (posizione, orientamento, etc.) e pu&ograve; essere trasformata in una <i>Spotlight</i> tramite l'opzione nel menu.<br>
    Si notano gli effetti di luce generati modificando la posizione della stessa.</p>
  <img src="./images/screen-light1.png" alt="front" style="width:800px;height:400px">
  <p>Dal pannello di controllo e' inoltre possibile visualizzare il "frustum" della luce, per poterne controllare la posizione e l'orientamento.</p>
  <img src="./images/screen-light2.png" alt="front" style="width:800px;height:400px">
  <p>Cliccando inoltre sull'opzione "Spotlight" si pu&ograve; trasformare l'illuminazione. (Si noti il "frustum")</p>
  <img src="./images/screen-light3.png" alt="front" style="width:800px;height:400px">

  <h3>Ombreggiatura</h3>
  <p>E' possibile attivare l'ombreggiatura, generata grazie al calcolo della profondit&agrave; dei pixel rispetto alla sorgente luminosa e al resto della scena. Con l'ausilio di due "Sahder Program" in cominazione.</br>
  E' stata dunque anche inserita la possibilit&agrave; di disabilitare/abilitare le ombre dal pannello di controllo (dal menu).<br>
  Grazie alle ombre la resa della nostra citt&agrave; in costruzione &egrave; decisamente pi&ugrave; bella e pi&ugrave; realistica. Inoltre,
    grazie ai controlli del menu &egrave; possibile modificare la posizione delle luce per ottenere vari effetti realistici di illuminazione.<br></p>
  <img src="images/screen-shadow.png" alt="control panel" style="width:800px;height:400px;">
  <img src="images/sc-shadowno2.png" alt="control panel" style="width:800px;height:400px;">

  <h3>Pannello di Controllo</h3>
  <p>Il pannello di controllo, realizzato con sfondo semi-trasparente per poter continuare a vedere la scena mentre
    si modificano i valori, presenta diversi parametri modificabili:</p>
  <img src="images/sc-menu.png" alt="control panel" style="float: right; width:300px;height:600px; display: block">
  <ul>
    <li>La prima opzione &egrave; quella di "log" per ottenere i log dell'applicazione nel pannello di controllo del browser</li>
    <li>Il secondo &egrave; "target" ovvero l'oggetto target selezionato. E' possibile selezionarlo da un men&ugrave; a tendina con tutti gli oggetti presenti nella scena</li>
    <li>L'opzione "look_at" permette l'ancoramento del target della telecamera all'oggetto selezionato (target)</li>
    <li>L'opzione "follow" se attivata, oltre ad ancorare il target della camera all'oggetto, quando l'ogetto si muove la camera esegue i sui stessi movimenti</li>
    <li>L'opzione "cameraX" permette di spostare la posizione della camera sull'asse X</li>
    <li>L'opzione "cameraY" permette di spostare la posizione della camera sull'asse Y</li>
    <li>L'opzione "cameraY" permette di spostare la posizione della camera sull'asse Y</li>
    <li>Le opzioni "CameraUp" X, Y e Z permettono di settare il versore "up" della camera</li>
    <li>ZNear e ZFar permetto di impostare la distanza di rendering della camera (Znear e Zfar della camera)</li>
    <li>Lo slider "Fov" permette la modifica del <i>Field of View</i> della camera</li>
    <li>Le tre opzioni "Target" X,Y e Z permettono la modifica delle coordinate del target della telecamera (il punto in cui la camera sta guardando)</li>
    <li>"Shadows" permette l'abilitazione/disabilitazione del rendering delle ombre</li>
    <li>"lightFrustum" permette di visualizzare il frustum della sorgente luminosa</li>
    <li>"LightPos" X, Y, e Z permettono di gestire le coordinate posizione della luce</li>
    <li>"LightTarg" X, Y, Z permettono di settare il target della luce, quindi la sua direzione</li>
    <li>"LightFov" permette di aumentare/diminuire l'ampiezza dell luce quando &egrave; in modalit&agrave; "spotlight"</li>
    <li>"LightNear" modifica la distanza alla quale la sorgente di luce parte rispetto al suo punto di origine</li>
    <li>"LightFar" modifica la distanza massima a cui la sorgente luminosa pu&ograve; illuminare, partendo dal suo punto di origine</li>
    <li>"SpotLight" permette di modificare il tipo di illuminazione: Direzionale(disattivato) o Spotlight(attivato)</li>
    <li>"LightWidth" e "LightHeight" permettono la modifica delle dimensioni della luce in modalit&agrave; direzionale</li>
    <li>"CurrentObj" &egrave; un menu a tendina che permette di scegliere quale oggetto modificare con i parametri successivi</li>
    <li>"Pos" X, Y e Z permettono la modifica delle coordinate dell'oggetto sopra selezionato</li>
    <li>"Scale" X,Y, e Z permettono la scalatura dell'oggetto sui 3 assi</li>
    <li>"Psi", "Theta" e "Phi" permettono la rotazione dell'oggetto sui 3 assi</li>
  </ul>

   
<h3>Utilizzo su dispositivi mobile</h3>
  <p>Essendo questa un'applicazione web, l'utilizzo su un disposito mobile risulta essere semplificato. L'interazione avviene tramite i tocchi sullo schermo invece che tramite il mouse/tastiera, i quali vengono catturati e gestiti adeguatamente dall'applicazione.
  Lo spostamento del nostro oggetto principale (l'elmetto) avviene in modo molto fluido e intuitivo tramite gli eventi touch.
    Permettendo all'utente di poter tranquillamente continuare a esplorare la scena divertendosi!</p>

<h3>Extra</h3>
  <p>L'inserimento di oggetti all'interno della scena era stata pensata con l'aggiunta anche di un secondo canvas nella pagina, pi&ugrave; piccolo,
che permettesse all'utente di visionare e interagire in modo semplice con gli oggetti in maniera 3D, prima di posizionarli nella scena.
Per ragioni di tempistiche la funzionalit&agrave; non &egrave; stata integrata ma si riporta qui uno screen del prototipo di esempio con la presenza di due canvas.
  </p>
  <p><img src="images/sc-canvas2.png" alt="control panel" style="width:800px;height:400px; display: block"></p>

<h4>Note</h4>
<p>Il progetto nasce grazie alla collaborazione di 4 colleghi, con la realizzazione di una solida base di codice comune
permettendo poi ad ognuno di noi di sviluppare il progetto personale con maggiore precisione. Il codice organizzato e strutturato in Typescript,
permette l'utilizzo di WebGl e degli script JavaScritp con una maggiore tipizzazione. Il modello di programmazione &egrave; stato riscritto sulla programazione ad aventi,
dove ogni azione effetuata scatena un evento che &egrave; possibile catturare per aggiornare la scena. Ci&ograve; permette una maggiore efficienza a livello di utilizzo di risorse e di efficienza del codice.
  Si ringrazia dunque <i>Luca De Risi</i>, <i>Luca Marchegiani</i> ed <i>Antonio Franzese</i> per la collaborazione.</p>
</body>
</html>
